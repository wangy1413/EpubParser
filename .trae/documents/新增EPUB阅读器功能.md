# 新增EPUB阅读器功能

## 概述
在现有EPUB解析器的基础上，添加一个功能完整的EPUB阅读器，支持书籍内容显示、章节导航和页面控制。

## 技术方案
1. **利用现有epubjs库**：使用epubjs的Rendition功能实现书籍内容渲染
2. **创建新的Reader组件**：负责显示书籍内容和导航控制
3. **集成到现有流程**：将阅读器与文件选择和解析流程无缝集成
4. **使用Vue 3 Composition API**：保持与现有代码风格一致

## 实现步骤

### 1. 修改`useEpubParser.js`
- 新增`currentBook` ref，用于存储当前打开的Book对象
- 修改`parseEpubFile`函数，返回Book对象或保持引用

### 2. 创建`Reader.vue`组件
- 设计阅读器主界面，包括：
  - 书籍内容显示区域
  - 章节导航控制（上一章/下一章）
  - 目录（TOC）侧边栏
  - 页面控制（缩放、字体调整等）
- 实现核心功能：
  - 初始化Rendition并渲染书籍内容
  - 章节导航逻辑
  - 目录生成和跳转
  - 页面事件处理

### 3. 更新`App.vue`
- 新增`showReader`状态，控制阅读器显示
- 添加阅读器组件引入和使用
- 实现从统计信息页到阅读器的切换
- 添加"阅读书籍"按钮

### 4. 更新`Statistics.vue`
- 添加"阅读书籍"按钮
- 点击按钮时切换到阅读器视图

### 5. 添加样式
- 设计阅读器的CSS样式
- 确保响应式设计，适配不同屏幕尺寸
- 添加主题支持（可选）

## 核心功能点
1. **书籍渲染**：使用epubjs Rendition渲染EPUB内容
2. **章节导航**：支持上下章节切换
3. **目录跳转**：显示书籍目录并支持点击跳转
4. **页面控制**：支持基本的页面控制功能
5. **流畅体验**：优化加载和导航的流畅性

## 预期效果
- 当用户选择并解析EPUB文件后，可以点击"阅读书籍"按钮进入阅读器
- 阅读器界面简洁美观，支持基本的阅读功能
- 导航流畅，响应迅速

## 技术风险与应对
- **epubjs版本兼容性**：确保使用的epubjs版本支持Rendition功能
- **内存管理**：确保在切换书籍时正确释放资源，避免内存泄漏
- **不同EPUB格式兼容**：测试不同格式的EPUB文件，确保兼容性

## 文件结构变化
- 新增：`src/components/Reader.vue`
- 修改：`src/composables/useEpubParser.js`
- 修改：`src/App.vue`
- 修改：`src/components/Statistics.vue`